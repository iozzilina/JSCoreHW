<!DOCTYPE html>
<html>
<head>
    <title>Delete Town by Name</title>
    <style>select, input { width: 100px }</style>
     <script src="../../../jquery-3.1.1.min.js"></script> 
</head>
<body onload="attachEvents()">
<div>Towns</div>
<select id="towns" size="4">
    <option>Sofia</option>
    <option>Varna</option>
    <option>Pleven</option>
    <option>Pleven</option>
</select>
<div>
    <input type="text" id="townName" />
    <button id="btnDelete">Delete</button>
</div>
<div id="result"></div>
<script>
    function attachEvents() {
        // TODO       
                
        $('#btnDelete').on("click", function(){
            //get string for town to delete
            let townValue = $('#townName').val();
            console.log(townValue);


            //get all matching options from the list
            let allTowns = $('#towns option').filter((index,el)=>$(el).text() === townValue);

            console.log(allTowns.toArray());

            if(allTowns.length>0){
                 //remove the matched elements    
                 allTowns.each((index,el)=>$(el).remove());
                 $('#result').text(`${townValue} deleted.`);
                 $('#townName').val('');

            } else {
                 $('#result').text(`${townValue} not found.`);
                 $('#townName').val('');
            }
        });
    }
</script>
</body>
</html>
